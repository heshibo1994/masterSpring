<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.fruitsalesplatform.mapper.RetailerMapper">
    <!-- resultMap映射 -->
    <resultMap type="com.fruitsalesplatform.entity.Retailer" id="RetailerRM">
        <!-- 主键 -->
        <id property="retailerId" column="Retailerid" jdbcType="VARCHAR" />
        <!-- 一般属性 -->
        <result property="name" column="name"/>
        <result property="telephone" column="telephone"/>
        <result property="address" column="address"/>
        <result property="status" column="status"/>
        <result property="createTime" column="createtime"/>
    </resultMap>

    <!-- 查询 -->
    <select id="find" parameterType="java.util.HashMap" resultMap="RetailerRM">
        select * from retailer
        where 1=1
        <if test="name != null"> and name like #{name}</if>
        <if test="address != null"> and address like #{address}</if>
        <if test="status != null"> and status like #{status}</if>
        <if test="telephone != null"> and telephone = #{telephone}</if>
        <if test="createTime != null"> and createtime = to_date(#{createTime},'yyyy-MM-dd HH:mm:ss')</if>
        <if test="startTime != null"> <![CDATA[ and createtime >= to_date(#{startTime},'yyyy-MM-dd HH:mm:ss')]]></if>
        <if test="endTime != null"> <![CDATA[ and createtime <= to_date(#{endTime},'yyyy-MM-dd HH:mm:ss')]]></if>
        <if test="startPage != null and pageSize != null">LIMIT #{startPage},#{pageSize}</if>
    </select>




</mapper>